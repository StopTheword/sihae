<?php $this->layout('layout') ?>

<ol class="post-list">
    <?php if (count($posts) === 0) : ?>
        <li>
            <h2>There aren't any posts!</h2>
        </li>
    <?php else : ?>
        <?php foreach ($posts as $post) : ?>
            <li>
                <h2>
                    <a href="/post/<?= $post->getSlug() ?>">
                        <?= $this->e($post->getTitle()) ?>
                    </a>

                    <?php $this->insert('partials/post-date', ['post' => $post]) ?>
                </h2>
            </li>
        <?php endforeach ?>
    <?php endif ?>
</ol>

<?php if ($total_pages !== 1) : ?>
    <ol class="post-pagination">
        <li class="post-pagination-newer">
            <?php if ($current_page === 1) : ?>
                <a href="#" class="disabled">Newer Posts</a>
            <?php else : ?>
                <a href="/page/<?= $current_page - 1 ?>">Newer Posts</a>
            <?php endif ?>
        </li>

        <li class="post-pagination-pages">
            <p>Page <?= $current_page ?> of <?= $total_pages ?></p>
        </li>

        <li class="post-pagination-older">
            <?php if ($current_page != $total_pages) : ?>
                <a href="/page/<?= $current_page + 1 ?>">Older Posts</a>
            <?php else : ?>
                <a href="#" class="disabled">Older Posts</a>
            <?php endif ?>
        </li>
    </ol>
<?php endif ?>
